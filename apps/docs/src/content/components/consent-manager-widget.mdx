---
title: Consent Manager Widget
description: A flexible, composable widget for building custom privacy consent interfaces. The widget provides granular control over privacy preferences while handling all the compliance requirements for you.
---

The Consent Manager Widget serves as the core interface for detailed privacy consent management in your application. While the Cookie Banner handles initial consent, this widget enables users to fine-tune their privacy preferences through an intuitive accordion interface.

![ConsentManagerWidget](../../../public/consent-manager.png)

## Understanding the Widget

Think of the Consent Manager Widget as a highly customizable form that gives users control over their privacy choices. It organizes different types of data collection and processing into collapsible sections, making it easy for users to understand and manage their consent preferences.

For example, a typical widget might include sections for:
- Essential cookies that keep your site running
- Analytics that help improve user experience
- Marketing features that enable personalized content
- Third-party integrations that enhance functionality

The widget automatically handles the complex task of tracking and storing these preferences while maintaining compliance with privacy regulations.

## Quick Start

First, install the package:

<Tabs groupId="manual-install" items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab value="npm">
  ```bash 
  npm install @koroflow/elements
  ```
  </Tab>
  <Tab value="pnpm">
  ```bash 
  pnpm install @koroflow/elements
  ```
  </Tab>
  <Tab value="yarn">
  ```bash
  yarn add @koroflow/elements
  ```
  </Tab>
  <Tab value="bun">
  ```bash
  bun add @koroflow/elements 
  ```
  </Tab>
</Tabs>


Then add the widget to your application:

```tsx
import * as ConsentManagerWidget from '@koroflow/elements/consent-manager-widget'

function PrivacyPreferences() {
  return (
    <ConsentManagerWidget>
      <ConsentManagerWidget.AccordionItems />
      <ConsentManagerWidget.Footer>
        <ConsentManagerWidget.RejectButton>
          Reject All
        </ConsentManagerWidget.RejectButton>
        <ConsentManagerWidget.AcceptAllButton>
          Accept All
        </ConsentManagerWidget.AcceptAllButton>
      </ConsentManagerWidget.Footer>
    </ConsentManagerWidget>
  )
}
```

## Component Architecture

The Consent Manager Widget uses a compound component pattern, which means it's built from smaller, specialized components that work together. This approach gives you complete control over the widget's structure and appearance.

Let's break down the main building blocks:

### Root Component
The `ConsentManagerWidget` serves as the container and context provider for all other components:

```tsx
<ConsentManagerWidget theme={yourTheme}>
  {/* Child components go here */}
</ConsentManagerWidget>
```

### Accordion Interface
The accordion interface organizes privacy preferences into expandable sections:

```tsx
<ConsentManagerWidget>
  <ConsentManagerWidget.Accordion>
    <ConsentManagerWidget.AccordionItems />
  </ConsentManagerWidget.Accordion>
</ConsentManagerWidget>
```

### Custom Accordion Items
You can create custom sections for specific types of consent:

```tsx
<ConsentManagerWidget.Accordion>
  <ConsentManagerWidget.AccordionItem value="analytics">
    <ConsentManagerWidget.AccordionTrigger>
      Analytics Cookies
      <ConsentManagerWidget.AccordionArrow />
    </ConsentManagerWidget.AccordionTrigger>
    <ConsentManagerWidget.AccordionContent>
      <ConsentManagerWidget.Switch name="analytics" />
      We use analytics cookies to understand how you use our website.
    </ConsentManagerWidget.AccordionContent>
  </ConsentManagerWidget.AccordionItem>
</ConsentManagerWidget.Accordion>
```

### Action Buttons
The widget includes several pre-built buttons for common actions:

```tsx
<ConsentManagerWidget.Footer>
  <ConsentManagerWidget.FooterSubGroup>
    <ConsentManagerWidget.RejectButton>
      Reject All
    </ConsentManagerWidget.RejectButton>
    <ConsentManagerWidget.AcceptAllButton>
      Accept All
    </ConsentManagerWidget.AcceptAllButton>
  </ConsentManagerWidget.FooterSubGroup>
  <ConsentManagerWidget.SaveButton>
    Save Preferences
  </ConsentManagerWidget.SaveButton>
</ConsentManagerWidget.Footer>
```

## Customization

The widget supports several ways to customize its appearance and behavior:

### Theme Customization
Apply custom styles using the theme prop:

```tsx
<ConsentManagerWidget
  theme={{
    "consent-manager-widget.root": "",
	  "consent-manager-widget.branding": "",
	  "consent-manager-widget.footer": "",
	  "consent-manager-widget.footer.sub-group": "",
		"consent-manager-widget.footer.reject-button": "",
		"consent-manager-widget.footer.accept-button": "",
		"consent-manager-widget.footer.customize-button": "",
		"consent-manager-widget.footer.save-button": "",
		"consent-manager-widget.accordion": "",
		"consent-manager-widget.accordion.trigger": "",
		"consent-manager-widget.accordion.trigger-sub-group": "",
		"consent-manager-widget.accordion.item": "",
		"consent-manager-widget.accordion.icon": "",
		"consent-manager-widget.accordion.arrow.open": "",
		"consent-manager-widget.accordion.arrow.close": "",
		"consent-manager-widget.accordion.content": "",
		"consent-manager-widget.accordion.content-inner": "",
		"consent-manager-widget.switch": "",
		"consent-manager-widget.switch.track": "",
		"consent-manager-widget.switch.thumb": "",
  }}
/>
```

### Custom Layouts
Create completely custom layouts while maintaining functionality:

```tsx
<ConsentManagerWidget>
  <YourCustomHeader />
  <ConsentManagerWidget.AccordionItems />
  <YourCustomFooter>
    <ConsentManagerWidget.SaveButton asChild>
      <YourButton variant="primary" />
    </ConsentManagerWidget.SaveButton>
  </YourCustomFooter>
</ConsentManagerWidget>
```

### Branding
Control the visibility of Koroflow branding:

```tsx
<ConsentManagerWidget hideBranding={true} />
```

## Accessibility

The Consent Manager Widget is built with accessibility in mind:

- Proper ARIA attributes for accordion sections
- Keyboard navigation support
- Focus management within the widget
- Screen reader announcements for state changes
- High contrast support for all interactive elements

All these accessibility features work automatically, ensuring all users can effectively manage their privacy preferences.

## API Reference

### Main Component Props

| Prop | Type | Description | Default |
|------|------|-------------|---------|
| theme | ConsentManagerWidgetTheme | Theme configuration object | {} |
| hideBranding | boolean | Controls Koroflow branding visibility | false |

### Available Sub-components

Each sub-component inherits theme support and provides specific functionality:

| Component | Purpose | Key Props |
|-----------|---------|-----------|
| Accordion | Container for consent options | type, value, onValueChange |
| AccordionItems | Pre-built consent sections | - |
| Switch | Toggle for individual consents | name, value, onChange |
| Footer | Action button container | className, children |
| SaveButton | Saves current preferences | onClick, disabled |

## Integration Examples

### With Custom Components

```tsx
import { Button } from 'your-ui-library'

function CustomConsentManager() {
  return (
    <ConsentManagerWidget>
      <YourHeader>Privacy Preferences</YourHeader>
      <ConsentManagerWidget.AccordionItems />
      <ConsentManagerWidget.Footer>
        <ConsentManagerWidget.SaveButton asChild>
          <Button>Update Preferences</Button>
        </ConsentManagerWidget.SaveButton>
      </ConsentManagerWidget.Footer>
    </ConsentManagerWidget>
  )
}
```

### With Consent Manager Dialog

```tsx
import { ConsentManagerDialog } from '@koroflow/elements/consent-manager'

function PrivacyCenter() {
  return (
    <ConsentManagerDialog>
      <ConsentManagerWidget theme={dialogTheme} />
    </ConsentManagerDialog>
  )
}
```

## Best Practices

- Place the widget in a dedicated privacy preferences page or dialog
- Use clear, concise labels for consent options
- Maintain consistent styling with your application
- Test the widget across different screen sizes
- Ensure all interactive elements are keyboard accessible

## Related Components

- [Cookie Banner](/docs/components/cookie-banner)
- [Consent Manager Dialog](/docs/components/consent-manager-dialog)
