---
title: Consent Solution
date: 2024-12-20
description: A customizable cookie consent modal for web applications
author: burnedchris
published: true
---

<ComponentPreview name="consent-solution-demo" />

## Features

- ğŸŒ Support for multiple privacy regulations (GDPR, CCPA, LGPD, US State Privacy)
- ğŸ”’ Granular consent management for different cookie types
- ğŸ“± Responsive and customizable UI components
- ğŸ¨ Fully customizable styling with Tailwind CSS
- âš¡ Server-side country detection for regulation compliance
- ğŸ”„ Automatic consent persistence
- ğŸ“ Built-in privacy and cookie policy integration
- ğŸ¯ Event callbacks for tracking user interactions
- ğŸ§© Multiple UI components (Banner, Dialog, Widget)

## Installation

There are two ways to install the component:

<Accordions>
<Accordion title="Using Shadcn CLI" id="shadcn">
 
<InstallPackagesBlock
groupId="shadcn-cli"
  commands={{
    npm: `npx shadcn@latest add "https://koroflow.com/r/consent-solution"`,
    pnpm: `pnpx shadcn@latest add "https://koroflow.com/r/consent-solution"`,
  }}
/>

</Accordion>
<Accordion title="Manually" id="manually">
 <Steps>
<Step>

### Install dependencies

<InstallPackagesBlock groupId="manual-install" commands={{
  pnpm: "pnpm install @koroflow/core-react @koroflow/dev-tools",
  npm: "npm install @koroflow/core-react @koroflow/dev-tools",
  yarn: "yarn add @koroflow/core-react @koroflow/dev-tools",
  bun: "bun add @koroflow/core-react @koroflow/dev-tools",
}} />
</Step>
<Step>
### Add the components

Copy and paste the following components into your project:

<ComponentSource name="consent-solution" />

</Step>
<Step>
### Update the imports

Update the import paths to match your project structure.

</Step>
</Steps>
</Accordion>
</Accordions>

## Usage

### Basic Usage

The simplest implementation with only necessary cookies:

<ComponentPreview name="consent-solution-minimal-demo" defaultTab="Code" />

### Event Callbacks

Track user interactions with the consent system:

<ComponentPreview name="consent-solution-callback-demo" defaultTab="Code" />

## API Reference

### ConsentManagerProvider

<TypeTable
  type={{
    initialGdprTypes: {
      description: "Initial types of GDPR consents to be managed.",
      type: "allConsentNames[]",
      default: '["necessary"]',
    },
    initialComplianceSettings: {
      description: "Initial compliance settings for different regions.",
      type: "Record<ComplianceRegion, ComplianceSettings>",
    },
    initialPrivacyPolicyUrl: {
      description: "URL to the privacy policy page.",
      type: "string",
    },
    initialCookiePolicyUrl: {
      description: "URL to the cookie policy page.",
      type: "string",
    },
  }}
/>

### CookiePopup

<TypeTable
  type={{
    bannerDescription: {
      description: "Description text for the cookie banner.",
      type: "string",
    },
    bannerTitle: {
      description: "Title text for the cookie banner.",
      type: "string",
    },
    className: {
      description: "Additional CSS classes.",
      type: "string",
    },
    horizontalPosition: {
      description: "Horizontal positioning of the popup.",
      type: "'left' | 'center' | 'right'",
      default: "center",
    },
    verticalPosition: {
      description: "Vertical positioning of the popup.",
      type: "'top' | 'center' | 'bottom'",
      default: "bottom",
    },
    enableScrollLock: {
      description: "Whether to prevent scrolling when popup is open.",
      type: "boolean",
      default: "false",
    },
  }}
/>

### PrivacyConsentDialog

<TypeTable
  type={{
    children: {
      description: "Trigger element to open the dialog.",
      type: "React.ReactNode",
    },
    className: {
      description: "Additional CSS classes for the dialog.",
      type: "string",
    },
  }}
/>

### ConsentCustomizationWidget

<TypeTable
  type={{
    onSave: {
      description: "Callback function triggered when preferences are saved.",
      type: "() => void",
    },
    className: {
      description: "Additional CSS classes for the widget.",
      type: "string",
    },
  }}
/>

### useConsentManager

A hook for accessing the privacy consent context.

<TypeTable
  type={{
    consents: {
      description: "Current state of user consents.",
      type: "ConsentState",
    },
    setConsent: {
      description: "Function to update a single consent value.",
      type: "(name: allConsentNames, value: boolean) => void",
    },
    saveConsents: {
      description: "Function to save current consent values.",
      type: "() => void",
    },
    resetConsents: {
      description: "Function to reset consents to default values.",
      type: "() => void",
    },
    setCallback: {
      description: "Function to set callbacks for consent events.",
      type: "(name: keyof Callbacks, callback: CallbackFunction) => void",
    },
    setShowPopup: {
      description: "Function to programmatically show/hide the popup.",
      type: "(show: boolean) => void",
    },
    setIsPrivacyDialogOpen: {
      description: "Function to programmatically control the privacy dialog.",
      type: "(open: boolean) => void",
    },
  }}
/>

## Accessibility

The cookie consent components are built with accessibility in mind:

- Full keyboard navigation support
- ARIA labels and roles
- Focus management
- Screen reader announcements for consent changes
- High contrast mode support

## Best Practices

1. Always include necessary cookies as required
2. Provide clear descriptions for each consent type
3. Include links to privacy and cookie policies
4. Implement proper consent persistence
5. Handle consent changes appropriately
6. Consider regional privacy regulations
7. Use appropriate callbacks to track user interactions
8. Provide multiple ways to access privacy settings
9. Ensure consistent styling across components

## Resources

- [GDPR Compliance](https://gdpr.eu/cookies/)
- [CCPA Requirements](https://oag.ca.gov/privacy/ccpa)
- [Cookie Law Info](https://www.cookielaw.org/the-cookie-law/)
- [US State Privacy Laws](https://iapp.org/resources/article/us-state-privacy-legislation-tracker/)
